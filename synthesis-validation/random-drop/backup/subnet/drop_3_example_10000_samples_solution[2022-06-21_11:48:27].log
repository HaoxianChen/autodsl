q(instance2,instanceid0) :- hasSubnet(instance1,_,instanceid0),hasTag(instance2,tag0,instanceid0),subnet(subnet0,instanceid0),hasTag(instance1,_,instanceid0),hasSubnet(instance0,subnet0,instanceid0),tag(tag0,instanceid0),instance2=max(instance1,instance0).