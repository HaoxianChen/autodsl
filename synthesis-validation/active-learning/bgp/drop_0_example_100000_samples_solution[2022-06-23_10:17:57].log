_BestRoute(node1,network0,nodelist1,cost2,instanceid0) :- ConnectedRoute(node0,network0,nodelist0,cost0,instanceid0),Neighbor(node1,node0,cost1,instanceid0),nodelist1=cat(node1, nodelist0), !contains(node1, nodelist0),cost2=cost0+cost1.
minCost(node0,network0,instanceid0,min_cost) :- _BestRoute(node0,network0,_,_,instanceid0),min_cost = min c : _BestRoute(node0,network0,_,c,instanceid0).
BestRoute(node0,network0,nodelist0,cost0,instanceid0) :- _BestRoute(node0,network0,nodelist0,cost0,instanceid0),minCost(node0,network0,instanceid0,cost0).