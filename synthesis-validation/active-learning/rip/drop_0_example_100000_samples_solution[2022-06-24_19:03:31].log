new_route(node0,node1,node2,cost0,instanceid0) :- _new_route(node0,node1,node2,cost0,instanceid0),minCost(node0,node1,instanceid0,cost0).
_new_route(node0,node1,node2,cost0,instanceid0) :- route(node0,node1,node2,cost0,instanceid0),link(_,node0,_,instanceid0),this(node0,instanceid0),node0 != node2.
_new_route(node0,node1,node2,cost0,instanceid0) :- route(node0,node1,node2,cost0,instanceid0),link(node0,node3,_,instanceid0),node2 != node3,this(node0,instanceid0).
_new_route(node3,node5,node4,cost2,instanceid0) :- route(node4,node5,_,cost1,instanceid0),this(node3,instanceid0),link(node3,node4,cost0,instanceid0),cost2=cost0+cost1,_new_route(_,_,_,_,instanceid0).
minCost(node0,node1,instanceid0,min_cost) :- _new_route(node0,node1,_,_,instanceid0),min_cost = min c : _new_route(node0,node1,_,c,instanceid0).